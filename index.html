<!DOCTYPE html>
<html ng-app="youtucandj" ng-controller="ytcdjCtrl">
<head>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link href="styles.css" rel="stylesheet">
</head>



<body>
<div class="container">
    <div class="col-sm-6 video-panels">
        <div id="player"></div>
    </div>
    <div class="col-sm-6 video-panels">
        <div id="player2"></div>
    </div>
</div>
<div class="container">
    <div class="col-sm-4"></div>
    <div class="col-sm-4 video-panels">
        <input type="text" ng-model="videoId">
    </div>
    <div class="col-sm-4"></div>
</div>


<!--Scripts-->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
<script src="controller.js"></script>
<script ng-controller="ytcdjCtrl">
    var tag = document.createElement('script');

    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    var player2;

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
        height: '300',
        width: '100%',
        videoId: '{{videoId}}',
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
        }
        });

        player2 = new YT.Player('player2', {
        height: '300',
        width: '100%',
        videoId: 'fk4BbF7B29w',
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
        }
        });
    }

    function onPlayerReady(event) {
        event.target.playVideo();
    }

    var done = false;

    function onPlayerStateChange(event) {
        if (event.data == YT.PlayerState.PLAYING && !done) {
        setTimeout(stopVideo, 6000);
        done = true;
        }
    }

    function stopVideo() {
        player.stopVideo();
    }
</script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
</body>
</html>